<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation - Administrador Num</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .search-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .search-box {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .search-box:focus {
            outline: none;
            border-color: #667eea;
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .category {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .category:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .category-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .category-icon {
            font-size: 2rem;
            margin-right: 15px;
        }

        .category-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2c3e50;
        }

        .endpoint {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
            transition: all 0.3s;
        }

        .endpoint:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }

        .endpoint-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .method {
            padding: 5px 10px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 0.8rem;
            margin-right: 10px;
            min-width: 60px;
            text-align: center;
        }

        .method.get { background: #28a745; color: white; }
        .method.post { background: #007bff; color: white; }
        .method.put { background: #ffc107; color: black; }
        .method.delete { background: #dc3545; color: white; }

        .endpoint-path {
            font-family: 'Courier New', monospace;
            font-weight: bold;
            color: #495057;
        }

        .endpoint-description {
            color: #6c757d;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .endpoint-details {
            display: none;
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-top: 10px;
            border: 1px solid #dee2e6;
        }

        .endpoint-details.show {
            display: block;
        }

        .detail-section {
            margin-bottom: 15px;
        }

        .detail-section h4 {
            color: #495057;
            margin-bottom: 8px;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .roles {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .role {
            background: #e3f2fd;
            color: #1976d2;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .json-example {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 10px;
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            overflow-x: auto;
            white-space: pre-wrap;
        }

        .toggle-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8rem;
            margin-top: 10px;
        }

        .toggle-btn:hover {
            background: #5a6fd8;
        }

        .stats {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            color: #6c757d;
            font-size: 0.9rem;
        }

        .footer {
            text-align: center;
            color: white;
            margin-top: 40px;
            opacity: 0.8;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .categories {
                grid-template-columns: 1fr;
            }
            
            .endpoint-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .method {
                margin-bottom: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìö API Documentation</h1>
            <p>Administrador Num - Documentaci√≥n Completa de Endpoints</p>
        </div>

        <div class="stats">
            <h2>üìä Estad√≠sticas de la API</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-number" id="totalEndpoints">0</div>
                    <div class="stat-label">Total Endpoints</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="totalCategories">0</div>
                    <div class="stat-label">Categor√≠as</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">3</div>
                    <div class="stat-label">Roles</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">4</div>
                    <div class="stat-label">M√©todos HTTP</div>
                </div>
            </div>
        </div>

        <div class="search-container">
            <input type="text" class="search-box" placeholder="üîç Buscar endpoints, m√©todos, descripciones..." id="searchInput">
        </div>

        <div class="categories" id="categoriesContainer">
            <!-- Las categor√≠as se cargar√°n din√°micamente -->
        </div>

        <div class="footer">
            <p>¬© 2024 Administrador Num - API REST Documentation</p>
        </div>
    </div>

    <script>
        // Datos de la API
        const apiData = {
            "autenticacion": {
                "icon": "üîê",
                "title": "Autenticaci√≥n",
                "endpoints": [
                    {
                        "method": "POST",
                        "path": "/auth/login",
                        "description": "Iniciar sesi√≥n",
                        "roles": ["P√∫blico"],
                        "request": {
                            "username": "string",
                            "password": "string"
                        },
                        "response": {
                            "token": "string",
                            "refreshToken": "string",
                            "user": "object"
                        }
                    },
                    {
                        "method": "POST",
                        "path": "/auth/refresh",
                        "description": "Renovar token de acceso",
                        "roles": ["P√∫blico"],
                        "request": {
                            "refreshToken": "string"
                        },
                        "response": {
                            "token": "string"
                        }
                    },
                    {
                        "method": "POST",
                        "path": "/auth/logout",
                        "description": "Cerrar sesi√≥n",
                        "roles": ["P√∫blico"],
                        "request": {
                            "refreshToken": "string"
                        },
                        "response": {
                            "message": "string"
                        }
                    },
                    {
                        "method": "POST",
                        "path": "/auth/register",
                        "description": "Registrar nuevo usuario",
                        "roles": ["ADMINISTRACION"],
                        "request": {
                            "username": "string",
                            "password": "string",
                            "email": "string",
                            "role": "string"
                        },
                        "response": {
                            "message": "string",
                            "user": "object"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/auth/profile",
                        "description": "Obtener perfil del usuario",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "user": "object"
                        }
                    },
                    {
                        "method": "PUT",
                        "path": "/auth/change-password",
                        "description": "Cambiar contrase√±a",
                        "roles": ["Autenticado"],
                        "request": {
                            "currentPassword": "string",
                            "newPassword": "string"
                        },
                        "response": {
                            "message": "string"
                        }
                    }
                ]
            },
            "usuarios": {
                "icon": "üë•",
                "title": "Usuarios",
                "endpoints": [
                    {
                        "method": "GET",
                        "path": "/usuarios",
                        "description": "Obtener todos los usuarios",
                        "roles": ["ADMINISTRACION"],
                        "request": {},
                        "response": {
                            "usuarios": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/usuarios/:id",
                        "description": "Obtener usuario por ID",
                        "roles": ["Usuario", "ADMINISTRACION"],
                        "request": {},
                        "response": {
                            "usuario": "object"
                        }
                    },
                    {
                        "method": "POST",
                        "path": "/usuarios",
                        "description": "Crear nuevo usuario",
                        "roles": ["ADMINISTRACION"],
                        "request": {
                            "username": "string",
                            "password": "string",
                            "email": "string",
                            "role": "string"
                        },
                        "response": {
                            "message": "string",
                            "usuario": "object"
                        }
                    },
                    {
                        "method": "PUT",
                        "path": "/usuarios/:id",
                        "description": "Actualizar usuario",
                        "roles": ["Usuario", "ADMINISTRACION"],
                        "request": {
                            "username": "string",
                            "email": "string",
                            "role": "string"
                        },
                        "response": {
                            "message": "string",
                            "usuario": "object"
                        }
                    },
                    {
                        "method": "DELETE",
                        "path": "/usuarios/:id",
                        "description": "Eliminar usuario",
                        "roles": ["ADMINISTRACION"],
                        "request": {},
                        "response": {
                            "message": "string"
                        }
                    }
                ]
            },
            "empresas": {
                "icon": "üè¢",
                "title": "Empresas",
                "endpoints": [
                    {
                        "method": "GET",
                        "path": "/empresas",
                        "description": "Obtener todas las empresas",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "empresas": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/empresas/:id",
                        "description": "Obtener empresa por ID",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "empresa": "object"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/empresas/rfc/:rfc",
                        "description": "Obtener empresa por RFC",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "empresa": "object"
                        }
                    },
                    {
                        "method": "POST",
                        "path": "/empresas",
                        "description": "Crear nueva empresa",
                        "roles": ["ADMINISTRACION"],
                        "request": {
                            "nombre": "string",
                            "rfc": "string",
                            "direccion": "string"
                        },
                        "response": {
                            "message": "string",
                            "empresa": "object"
                        }
                    },
                    {
                        "method": "PUT",
                        "path": "/empresas/:id",
                        "description": "Actualizar empresa",
                        "roles": ["ADMINISTRACION"],
                        "request": {
                            "nombre": "string",
                            "rfc": "string",
                            "direccion": "string"
                        },
                        "response": {
                            "message": "string",
                            "empresa": "object"
                        }
                    },
                    {
                        "method": "DELETE",
                        "path": "/empresas/:id",
                        "description": "Eliminar empresa",
                        "roles": ["ADMINISTRACION"],
                        "request": {},
                        "response": {
                            "message": "string"
                        }
                    }
                ]
            },
            "clientes": {
                "icon": "üë§",
                "title": "Clientes",
                "endpoints": [
                    {
                        "method": "GET",
                        "path": "/clientes",
                        "description": "Obtener todos los clientes",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "clientes": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/clientes/:id",
                        "description": "Obtener cliente por ID (incluye razones sociales y esquemas)",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "cliente": "object",
                            "razones_sociales": "array",
                            "esquemas": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/clientes/letter/:letter",
                        "description": "Buscar clientes por letra",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "clientes": "array"
                        }
                    },
                    {
                        "method": "POST",
                        "path": "/clientes",
                        "description": "Crear nuevo cliente",
                        "roles": ["ADMINISTRACION"],
                        "request": {
                            "nombre": "string",
                            "email": "string",
                            "telefono": "string"
                        },
                        "response": {
                            "message": "string",
                            "cliente": "object"
                        }
                    },
                    {
                        "method": "PUT",
                        "path": "/clientes/:id",
                        "description": "Actualizar cliente",
                        "roles": ["ADMINISTRACION"],
                        "request": {
                            "nombre": "string",
                            "email": "string",
                            "telefono": "string"
                        },
                        "response": {
                            "message": "string",
                            "cliente": "object"
                        }
                    },
                    {
                        "method": "DELETE",
                        "path": "/clientes/:id",
                        "description": "Eliminar cliente",
                        "roles": ["ADMINISTRACION"],
                        "request": {},
                        "response": {
                            "message": "string"
                        }
                    }
                ]
            },
            "razones-sociales": {
                "icon": "üèõÔ∏è",
                "title": "Razones Sociales",
                "endpoints": [
                    {
                        "method": "GET",
                        "path": "/razones-sociales",
                        "description": "Obtener todas las razones sociales",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "razones_sociales": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/razones-sociales/:id",
                        "description": "Obtener raz√≥n social por ID",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "razon_social": "object"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/razones-sociales/cliente/:clienteId",
                        "description": "Obtener razones sociales por cliente",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "razones_sociales": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/razones-sociales/rfc/:rfc",
                        "description": "Buscar raz√≥n social por RFC",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "razon_social": "object"
                        }
                    },
                    {
                        "method": "POST",
                        "path": "/razones-sociales",
                        "description": "Crear nueva raz√≥n social",
                        "roles": ["Autenticado"],
                        "request": {
                            "id_cliente": "number",
                            "razon_social": "string",
                            "rfc": "string",
                            "regimen_fiscal": "string",
                            "codigo_postal": "string",
                            "calle": "string",
                            "numero_interior": "string",
                            "numero_exterior": "string",
                            "colonia": "string",
                            "ciudad": "string",
                            "estado": "string",
                            "forma_pago": "string",
                            "metodo_pago": "string",
                            "uso_cfdi": "string"
                        },
                        "response": {
                            "message": "string",
                            "razon_social": "object"
                        }
                    },
                    {
                        "method": "PUT",
                        "path": "/razones-sociales/:id",
                        "description": "Actualizar raz√≥n social",
                        "roles": ["Autenticado"],
                        "request": {
                            "id_cliente": "number",
                            "razon_social": "string",
                            "rfc": "string",
                            "regimen_fiscal": "string",
                            "codigo_postal": "string",
                            "calle": "string",
                            "numero_interior": "string",
                            "numero_exterior": "string",
                            "colonia": "string",
                            "ciudad": "string",
                            "estado": "string",
                            "forma_pago": "string",
                            "metodo_pago": "string",
                            "uso_cfdi": "string"
                        },
                        "response": {
                            "message": "string",
                            "razon_social": "object"
                        }
                    },
                    {
                        "method": "DELETE",
                        "path": "/razones-sociales/:id",
                        "description": "Eliminar raz√≥n social",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "message": "string"
                        }
                    }
                ]
            },
            "operaciones": {
                "icon": "üíº",
                "title": "Operaciones",
                "endpoints": [
                    {
                        "method": "GET",
                        "path": "/operaciones",
                        "description": "Obtener todas las operaciones",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "operaciones": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/operaciones/:id",
                        "description": "Obtener operaci√≥n por ID (incluye conceptos de factura y raz√≥n social)",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "operacion": "object",
                            "conceptos_factura": "array",
                            "razon_social": "object"
                        }
                    },
                    {
                        "method": "POST",
                        "path": "/operaciones",
                        "description": "Crear nueva operaci√≥n (con soporte para imagen, conceptos de factura y comisiones de broker autom√°ticas)",
                        "roles": ["ADMINISTRACION", "FACTURACION"],
                        "request": {
                            "id_cliente": "number",
                            "tipo_esquema": "string",
                            "porcentaje_esquema": "number",
                            "deposito": "number",
                            "id_empresa": "number",
                            "fecha_operacion": "string",
                            "estatus": "string",
                            "imagen": "file",
                            "conceptos_factura": "array"
                        },
                        "response": {
                            "message": "string",
                            "operacion": "object",
                            "conceptos_factura": "array",
                            "comisiones_broker": "array"
                        }
                    },
                    {
                        "method": "PUT",
                        "path": "/operaciones/:id",
                        "description": "Actualizar operaci√≥n (con soporte para imagen)",
                        "roles": ["ADMINISTRACION", "FACTURACION"],
                        "request": {
                            "id_cliente": "number",
                            "tipo_esquema": "string",
                            "porcentaje_esquema": "number",
                            "deposito": "number",
                            "id_empresa": "number",
                            "fecha_operacion": "string",
                            "estatus": "string",
                            "imagen": "file"
                        },
                        "response": {
                            "message": "string",
                            "operacion": "object"
                        }
                    },
                    {
                        "method": "DELETE",
                        "path": "/operaciones/:id",
                        "description": "Eliminar operaci√≥n",
                        "roles": ["ADMINISTRACION"],
                        "request": {},
                        "response": {
                            "message": "string"
                        }
                    },
                    {
                        "method": "POST",
                        "path": "/operaciones/:id/imagen",
                        "description": "Subir imagen para una operaci√≥n",
                        "roles": ["ADMINISTRACION", "FACTURACION"],
                        "request": {
                            "imagen": "file"
                        },
                        "response": {
                            "message": "string",
                            "ruta_imagen": "string"
                        }
                    },
                    {
                        "method": "DELETE",
                        "path": "/operaciones/:id/imagen",
                        "description": "Eliminar imagen de una operaci√≥n",
                        "roles": ["ADMINISTRACION", "FACTURACION"],
                        "request": {},
                        "response": {
                            "message": "string"
                        }
                    }
                ]
            },
            "brokers": {
                "icon": "üè¶",
                "title": "Brokers",
                "endpoints": [
                    {
                        "method": "GET",
                        "path": "/brokers",
                        "description": "Obtener todos los brokers",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "brokers": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/brokers/:id",
                        "description": "Obtener broker por ID",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "broker": "object"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/brokers/porcentaje-range",
                        "description": "Obtener brokers por rango de porcentaje",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "brokers": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/brokers/letter/:letter",
                        "description": "Buscar brokers por letra",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "brokers": "array"
                        }
                    },
                    {
                        "method": "POST",
                        "path": "/brokers",
                        "description": "Crear nuevo broker",
                        "roles": ["ADMINISTRACION"],
                        "request": {
                            "nombre": "string",
                            "porcentaje": "number",
                            "telefono": "string",
                            "email": "string"
                        },
                        "response": {
                            "message": "string",
                            "broker": "object"
                        }
                    },
                    {
                        "method": "PUT",
                        "path": "/brokers/:id",
                        "description": "Actualizar broker",
                        "roles": ["ADMINISTRACION"],
                        "request": {
                            "nombre": "string",
                            "porcentaje": "number",
                            "telefono": "string",
                            "email": "string"
                        },
                        "response": {
                            "message": "string",
                            "broker": "object"
                        }
                    },
                    {
                        "method": "DELETE",
                        "path": "/brokers/:id",
                        "description": "Eliminar broker",
                        "roles": ["ADMINISTRACION"],
                        "request": {},
                        "response": {
                            "message": "string"
                        }
                    }
                ]
            },
            "facturas": {
                "icon": "üìÑ",
                "title": "Facturas",
                "endpoints": [
                    {
                        "method": "GET",
                        "path": "/facturas",
                        "description": "Obtener todas las facturas",
                        "roles": ["ADMINISTRACION", "FACTURACION"],
                        "request": {},
                        "response": {
                            "facturas": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/facturas/:id",
                        "description": "Obtener factura por ID",
                        "roles": ["ADMINISTRACION", "FACTURACION"],
                        "request": {},
                        "response": {
                            "factura": "object"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/facturas/stats",
                        "description": "Obtener estad√≠sticas de facturas",
                        "roles": ["ADMINISTRACION", "FACTURACION"],
                        "request": {},
                        "response": {
                            "estadisticas": "object"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/facturas/uuid/:uuid",
                        "description": "Obtener factura por UUID",
                        "roles": ["ADMINISTRACION", "FACTURACION"],
                        "request": {},
                        "response": {
                            "factura": "object"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/facturas/folio/:folio",
                        "description": "Obtener factura por folio",
                        "roles": ["ADMINISTRACION", "FACTURACION"],
                        "request": {},
                        "response": {
                            "factura": "object"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/facturas/empresa/:id_empresa",
                        "description": "Obtener facturas por empresa",
                        "roles": ["ADMINISTRACION", "FACTURACION"],
                        "request": {},
                        "response": {
                            "facturas": "array"
                        }
                    },
                    {
                        "method": "POST",
                        "path": "/facturas",
                        "description": "Crear nueva factura",
                        "roles": ["ADMINISTRACION", "FACTURACION"],
                        "request": {
                            "id_operacion": "number",
                            "folio": "string",
                            "uuid": "string",
                            "fecha_emision": "string",
                            "total": "number"
                        },
                        "response": {
                            "message": "string",
                            "factura": "object"
                        }
                    },
                    {
                        "method": "PUT",
                        "path": "/facturas/:id",
                        "description": "Actualizar factura",
                        "roles": ["ADMINISTRACION", "FACTURACION"],
                        "request": {
                            "folio": "string",
                            "uuid": "string",
                            "fecha_emision": "string",
                            "total": "number"
                        },
                        "response": {
                            "message": "string",
                            "factura": "object"
                        }
                    },
                    {
                        "method": "DELETE",
                        "path": "/facturas/:id",
                        "description": "Eliminar factura",
                        "roles": ["ADMINISTRACION"],
                        "request": {},
                        "response": {
                            "message": "string"
                        }
                    }
                ]
            },
            "movimientos": {
                "icon": "üí∞",
                "title": "Movimientos Bancarios",
                "endpoints": [
                    {
                        "method": "GET",
                        "path": "/movimientos-bancarios",
                        "description": "Obtener todos los movimientos",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "movimientos": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/movimientos-bancarios/:id",
                        "description": "Obtener movimiento por ID",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "movimiento": "object"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/movimientos-bancarios/stats",
                        "description": "Obtener estad√≠sticas de movimientos",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "estadisticas": "object"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/movimientos-bancarios/resumen-banco",
                        "description": "Obtener resumen por banco",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "resumen": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/movimientos-bancarios/hoy",
                        "description": "Obtener movimientos del d√≠a",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "movimientos": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/movimientos-bancarios/mes-actual",
                        "description": "Obtener movimientos del mes actual",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "movimientos": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/movimientos-bancarios/banco/:bancoId",
                        "description": "Obtener movimientos por banco",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "movimientos": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/movimientos-bancarios/empresa/:empresaId",
                        "description": "Obtener movimientos por empresa",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "movimientos": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/movimientos-bancarios/fecha/:fecha",
                        "description": "Obtener movimientos por fecha",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "movimientos": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/movimientos-bancarios/rango/:fecha_desde/:fecha_hasta",
                        "description": "Obtener movimientos por rango de fechas",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "movimientos": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/movimientos-bancarios/usuario/:usuarioId",
                        "description": "Obtener movimientos por usuario",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "movimientos": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/movimientos-bancarios/factura/:facturaId",
                        "description": "Obtener movimientos por factura",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "movimientos": "array"
                        }
                    },
                    {
                        "method": "GET",
                        "path": "/movimientos-bancarios/search/:descripcion",
                        "description": "Buscar movimientos por descripci√≥n",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "movimientos": "array"
                        }
                    },
                    {
                        "method": "POST",
                        "path": "/movimientos-bancarios",
                        "description": "Crear nuevo movimiento",
                        "roles": ["ADMINISTRACION", "CONTADOR"],
                        "request": {
                            "id_banco": "number",
                            "id_empresa": "number",
                            "monto": "number",
                            "tipo": "string",
                            "descripcion": "string",
                            "fecha": "string"
                        },
                        "response": {
                            "message": "string",
                            "movimiento": "object"
                        }
                    },
                    {
                        "method": "PUT",
                        "path": "/movimientos-bancarios/:id",
                        "description": "Actualizar movimiento",
                        "roles": ["ADMINISTRACION", "CONTADOR"],
                        "request": {
                            "id_banco": "number",
                            "id_empresa": "number",
                            "monto": "number",
                            "tipo": "string",
                            "descripcion": "string",
                            "fecha": "string"
                        },
                        "response": {
                            "message": "string",
                            "movimiento": "object"
                        }
                    },
                    {
                        "method": "DELETE",
                        "path": "/movimientos-bancarios/:id",
                        "description": "Eliminar movimiento",
                        "roles": ["ADMINISTRACION"],
                        "request": {},
                        "response": {
                            "message": "string"
                        }
                    }
                ]
            },
            "otros": {
                "icon": "üîß",
                "title": "Otros Endpoints",
                "endpoints": [
                    {
                        "method": "GET",
                        "path": "/status",
                        "description": "Estado de la API",
                        "roles": ["Autenticado"],
                        "request": {},
                        "response": {
                            "status": "string",
                            "timestamp": "string",
                            "user": "object"
                        }
                    },
                    {
                        "method": "POST",
                        "path": "/echo",
                        "description": "Endpoint de prueba",
                        "roles": ["Autenticado"],
                        "request": {
                            "message": "string"
                        },
                        "response": {
                            "echo": "string",
                            "timestamp": "string",
                            "user": "object"
                        }
                    }
                ]
            }
        };

        // Funci√≥n para renderizar las categor√≠as
        function renderCategories(data) {
            const container = document.getElementById('categoriesContainer');
            container.innerHTML = '';

            Object.keys(data).forEach(categoryKey => {
                const category = data[categoryKey];
                const categoryElement = document.createElement('div');
                categoryElement.className = 'category';
                categoryElement.innerHTML = `
                    <div class="category-header">
                        <div class="category-icon">${category.icon}</div>
                        <div class="category-title">${category.title}</div>
                    </div>
                    <div class="endpoints-list">
                        ${category.endpoints.map(endpoint => `
                            <div class="endpoint">
                                <div class="endpoint-header">
                                    <span class="method ${endpoint.method.toLowerCase()}">${endpoint.method}</span>
                                    <span class="endpoint-path">${endpoint.path}</span>
                                </div>
                                <div class="endpoint-description">${endpoint.description}</div>
                                <button class="toggle-btn" onclick="toggleDetails(this)">Ver detalles</button>
                                <div class="endpoint-details">
                                    <div class="detail-section">
                                        <h4>Roles Requeridos</h4>
                                        <div class="roles">
                                            ${endpoint.roles.map(role => `<span class="role">${role}</span>`).join('')}
                                        </div>
                                    </div>
                                    <div class="detail-section">
                                        <h4>Request Body</h4>
                                        <div class="json-example">${JSON.stringify(endpoint.request, null, 2)}</div>
                                    </div>
                                    <div class="detail-section">
                                        <h4>Response</h4>
                                        <div class="json-example">${JSON.stringify(endpoint.response, null, 2)}</div>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
                container.appendChild(categoryElement);
            });
        }

        // Funci√≥n para alternar detalles
        function toggleDetails(button) {
            const details = button.nextElementSibling;
            details.classList.toggle('show');
            button.textContent = details.classList.contains('show') ? 'Ocultar detalles' : 'Ver detalles';
        }

        // Funci√≥n de b√∫squeda
        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            searchInput.addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                const categories = document.querySelectorAll('.category');
                
                categories.forEach(category => {
                    const endpoints = category.querySelectorAll('.endpoint');
                    let hasVisibleEndpoints = false;
                    
                    endpoints.forEach(endpoint => {
                        const text = endpoint.textContent.toLowerCase();
                        if (text.includes(searchTerm)) {
                            endpoint.style.display = 'block';
                            hasVisibleEndpoints = true;
                        } else {
                            endpoint.style.display = 'none';
                        }
                    });
                    
                    category.style.display = hasVisibleEndpoints ? 'block' : 'none';
                });
            });
        }

        // Funci√≥n para calcular estad√≠sticas
        function updateStats() {
            let totalEndpoints = 0;
            Object.values(apiData).forEach(category => {
                totalEndpoints += category.endpoints.length;
            });
            
            document.getElementById('totalEndpoints').textContent = totalEndpoints;
            document.getElementById('totalCategories').textContent = Object.keys(apiData).length;
        }

        // Inicializar la aplicaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            renderCategories(apiData);
            setupSearch();
            updateStats();
        });
    </script>
</body>
</html>
